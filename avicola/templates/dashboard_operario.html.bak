{% extends 'core/base.html' %}

{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-4">
                {% if LANGUAGE_CODE == 'en' %}Operator Dashboard{% else %}Dashboard de Operario{% endif %}
            </h1>
            <p class="lead">
                {% if LANGUAGE_CODE == 'en' %}Welcome{% else %}Bienvenido{% endif %}, {{ user.first_name }} {{ user.last_name }}
            </p>
            <hr>
        </div>
    </div>
    
    <!-- Menú de navegación para operarios -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-th-large me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}Quick Access{% else %}Acceso Rápido{% endif %}
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/lotes/" class="btn btn-outline-primary w-100 py-3">
                                <i class="fas fa-layer-group mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Lots{% else %}Lotes{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/galpones/" class="btn btn-outline-success w-100 py-3">
                                <i class="fas fa-warehouse mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Sheds{% else %}Galpones{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/inventario/alimentos/" class="btn btn-outline-warning w-100 py-3">
                                <i class="fas fa-drumstick-bite mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Feed{% else %}Alimentos{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/tareas/" class="btn btn-outline-danger w-100 py-3">
                                <i class="fas fa-tasks mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Tasks{% else %}Tareas{% endif %}
                            </a>
                        </div>
                    </div>
                    <div class="row g-3 mt-2">
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'inventario:registro_seguimiento' %}" class="btn btn-outline-info w-100 py-3">
                                <i class="fas fa-clipboard-check mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Tracking{% else %}Seguimiento{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'wiki:index' %}" class="btn btn-outline-secondary w-100 py-3">
                                <i class="fas fa-book mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Wiki{% else %}Wiki{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'faq:index' %}" class="btn btn-outline-primary w-100 py-3">
                                <i class="fas fa-question-circle mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}FAQ{% else %}FAQ{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'bot:index' %}" class="btn btn-outline-dark w-100 py-3">
                                <i class="fas fa-robot mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Bot{% else %}Bot{% endif %}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-th-large me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}Quick Access{% else %}Acceso Rápido{% endif %}
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/lotes/" class="btn btn-outline-primary w-100 py-3">
                                <i class="fas fa-layer-group mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Lots{% else %}Lotes{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/galpones/" class="btn btn-outline-success w-100 py-3">
                                <i class="fas fa-warehouse mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Sheds{% else %}Galpones{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/inventario/alimentos/" class="btn btn-outline-warning w-100 py-3">
                                <i class="fas fa-drumstick-bite mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Feed{% else %}Alimentos{% endif %}
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="/produccion/tareas/" class="btn btn-outline-danger w-100 py-3">
                                <i class="fas fa-tasks mb-2 d-block" style="font-size: 24px;"></i>
                                {% if LANGUAGE_CODE == 'en' %}Tasks{% else %}Tareas{% endif %}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-tasks me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}My Tasks{% else %}Mis Tareas{% endif %}
                    </h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <!-- Aquí se cargarían las tareas del operario -->
                        <a href="/produccion/tareas/" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">{% if LANGUAGE_CODE == 'en' %}Check Lot 1 Temperature{% else %}Revisar Temperatura Lote 1{% endif %}</h5>
                                <small class="text-danger">{% if LANGUAGE_CODE == 'en' %}Urgent{% else %}Urgente{% endif %}</small>
                            </div>
                            <p class="mb-1">{% if LANGUAGE_CODE == 'en' %}Verify that the temperature is between 30-32°C{% else %}Verificar que la temperatura esté entre 30-32°C{% endif %}</p>
                            <small>{% if LANGUAGE_CODE == 'en' %}Assigned{% else %}Asignado{% endif %}: {% if LANGUAGE_CODE == 'en' %}Today{% else %}Hoy{% endif %}</small>
                        </a>
                        <a href="/produccion/tareas/" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">{% if LANGUAGE_CODE == 'en' %}Feed Lot 3{% else %}Alimentar Lote 3{% endif %}</h5>
                                <small class="text-warning">{% if LANGUAGE_CODE == 'en' %}Important{% else %}Importante{% endif %}</small>
                            </div>
                            <p class="mb-1">{% if LANGUAGE_CODE == 'en' %}Distribute 50kg of feed{% else %}Distribuir 50kg de alimento{% endif %}</p>
                            <small>{% if LANGUAGE_CODE == 'en' %}Assigned{% else %}Asignado{% endif %}: {% if LANGUAGE_CODE == 'en' %}Yesterday{% else %}Ayer{% endif %}</small>
                        </a>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="{% url 'produccion:lista_tareas' %}" class="btn btn-outline-primary btn-sm">
                        {% if LANGUAGE_CODE == 'en' %}View All Tasks{% else %}Ver Todas las Tareas{% endif %}
                    </a>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-clipboard-list me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}My Lots{% else %}Mis Lotes{% endif %}
                    </h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <!-- Aquí se cargarían los lotes asignados al operario -->
                        <a href="{% url 'produccion:detalle_lote' lote_id=1 %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">{% if LANGUAGE_CODE == 'en' %}Lot 1 - Shed 2{% else %}Lote 1 - Galpón 2{% endif %}</h5>
                                <small>{% if LANGUAGE_CODE == 'en' %}Day{% else %}Día{% endif %} 15</small>
                            </div>
                            <p class="mb-1">{% if LANGUAGE_CODE == 'en' %}COBB 500 - 1000 birds{% else %}COBB 500 - 1000 aves{% endif %}</p>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                            </div>
                        </a>
                        <a href="{% url 'produccion:detalle_lote' lote_id=3 %}" class="list-group-item list-group-item-action">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">{% if LANGUAGE_CODE == 'en' %}Lot 3 - Shed 1{% else %}Lote 3 - Galpón 1{% endif %}</h5>
                                <small>{% if LANGUAGE_CODE == 'en' %}Day{% else %}Día{% endif %} 30</small>
                            </div>
                            <p class="mb-1">{% if LANGUAGE_CODE == 'en' %}Ross 308 - 1500 birds{% else %}Ross 308 - 1500 aves{% endif %}</p>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">50%</div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="{% url 'produccion:lista_lotes' %}" class="btn btn-outline-success btn-sm">
                        {% if LANGUAGE_CODE == 'en' %}View All Lots{% else %}Ver Todos los Lotes{% endif %}
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-chart-line me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}Breed Comparison{% else %}Comparación de Razas{% endif %}
                    </h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        {% if LANGUAGE_CODE == 'en' %}
                            Here you can compare the nominal data of a breed with the real data of an active lot.
                        {% else %}
                            Aquí puedes comparar los datos nominales de una raza con los datos reales de un lote activo.
                        {% endif %}
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="breed-select" class="form-label">{% if LANGUAGE_CODE == 'en' %}Select Breed{% else %}Seleccionar Raza{% endif %}</label>
                            <select class="form-select" id="breed-select">
                                <option value="1">COBB 500</option>
                                <option value="2">ROSS 308</option>
                                <option value="3">HUBBARD</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="lot-select" class="form-label">{% if LANGUAGE_CODE == 'en' %}Select Lot{% else %}Seleccionar Lote{% endif %}</label>
                            <select class="form-select" id="lot-select">
                                <option value="1">{% if LANGUAGE_CODE == 'en' %}Lot 1 - Shed 2{% else %}Lote 1 - Galpón 2{% endif %}</option>
                                <option value="3">{% if LANGUAGE_CODE == 'en' %}Lot 3 - Shed 1{% else %}Lote 3 - Galpón 1{% endif %}</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button id="compare-button" class="btn btn-primary">
                            {% if LANGUAGE_CODE == 'en' %}Compare{% else %}Comparar{% endif %}
                        </button>
                    </div>
                    
                    <div id="comparison-results" class="mt-4" style="display: none;">
                        <h4 class="text-center mb-4">{% if LANGUAGE_CODE == 'en' %}Comparison Results{% else %}Resultados de la Comparación{% endif %}</h4>
                        
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr>
                                        <th>{% if LANGUAGE_CODE == 'en' %}Metric{% else %}Métrica{% endif %}</th>
                                        <th>{% if LANGUAGE_CODE == 'en' %}Nominal Value{% else %}Valor Nominal{% endif %}</th>
                                        <th>{% if LANGUAGE_CODE == 'en' %}Real Value{% else %}Valor Real{% endif %}</th>
                                        <th>{% if LANGUAGE_CODE == 'en' %}Difference{% else %}Diferencia{% endif %}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{% if LANGUAGE_CODE == 'en' %}Weight (g){% else %}Peso (g){% endif %}</td>
                                        <td>1500</td>
                                        <td>1450</td>
                                        <td class="text-danger">-50 (-3.33%)</td>
                                    </tr>
                                    <tr>
                                        <td>{% if LANGUAGE_CODE == 'en' %}Feed Conversion{% else %}Conversión Alimenticia{% endif %}</td>
                                        <td>1.65</td>
                                        <td>1.70</td>
                                        <td class="text-danger">+0.05 (+3.03%)</td>
                                    </tr>
                                    <tr>
                                        <td>{% if LANGUAGE_CODE == 'en' %}Mortality (%){% else %}Mortalidad (%){% endif %}</td>
                                        <td>2.0</td>
                                        <td>1.8</td>
                                        <td class="text-success">-0.2 (-10.0%)</td>
                                    </tr>
                                    <tr>
                                        <td>{% if LANGUAGE_CODE == 'en' %}Daily Gain (g){% else %}Ganancia Diaria (g){% endif %}</td>
                                        <td>65</td>
                                        <td>62</td>
                                        <td class="text-danger">-3 (-4.62%)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="text-center mt-3">
                            <button class="btn btn-outline-secondary btn-sm">
                                {% if LANGUAGE_CODE == 'en' %}Export to PDF{% else %}Exportar a PDF{% endif %}
                            </button>
                            <button class="btn btn-outline-secondary btn-sm ms-2">
                                {% if LANGUAGE_CODE == 'en' %}Print{% else %}Imprimir{% endif %}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Script para mostrar/ocultar los resultados de la comparación
    document.getElementById('compare-button').addEventListener('click', function() {
        document.getElementById('comparison-results').style.display = 'block';
    });
</script>
{% endblock %}
